<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Language Translator</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>
    <header class="page-header">
        <div class="logo-section">
            <img src="images/logo.png" alt="Logo" class="site-logo">
            <h1 class="site-title">EnTel</h1>
        </div>
        
        <nav class="main-nav">
            <button class="nav-btn active"><i class="fas fa-home"></i> Home</button>
            <button class="nav-btn"><i class="fas fa-history"></i> History</button>
            <button class="nav-btn"><i class="fas fa-bookmark"></i> Saved</button>

            <!-- ðŸŒ— Theme Toggle Button (added) -->
            <button class="nav-btn" id="themeToggleBtn" title="Toggle Theme">
                <i class="fas fa-moon"></i>
            </button>
        </nav>
    </header>

    <div class="container">
        <h1>Language Translator</h1>
        
        <div class="input-container">
            <textarea id="text-input" placeholder="Type in English..."></textarea> 
            <button id="translate-btn">Translate</button>
        </div>

        <h3>Translated Sentence:</h3>
        <div class="output-container">
            <textarea id="translated-text" placeholder="Telugu translation..." readonly></textarea>
            <div class="action-btns">
                <button class="action-btn" id="copy-btn"><i class="fas fa-copy"></i></button>
                <button class="action-btn" id="bookmark-btn"><i class="fas fa-bookmark"></i></button>
            </div>
        </div>
    </div>

    <script>
        function startTranslation() {
            const sentence = document.getElementById("text-input").value;

            const data = {
                sentence: sentence
            };

            fetch('https://749c-34-145-245-234.ngrok-free.app/process', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            })
            .then(response => response.json())
            .then(result => {
                console.log('Translation Result:', result.processed_sentence);
                document.getElementById('translated-text').value = result.processed_sentence;
            })
            .catch(error => {
                console.error('Error:', error);
            });
        }

        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('translate-btn').addEventListener('click', startTranslation);
            
            document.getElementById('copy-btn').addEventListener('click', () => {
                const translatedText = document.getElementById('translated-text');
                translatedText.select();
                document.execCommand("copy");
            });

            document.getElementById('bookmark-btn').addEventListener('click', () => {
                console.log("Bookmarked: " + document.getElementById('translated-text').value);
            });

            // ðŸŒ— Theme Toggle Script
            const toggleBtn = document.getElementById("themeToggleBtn");
            const icon = toggleBtn.querySelector("i");

            if (localStorage.getItem("theme") === "light") {
                document.body.classList.add("light-theme");
                icon.classList.remove("fa-moon");
                icon.classList.add("fa-sun");
            }

            toggleBtn.addEventListener("click", () => {
                document.body.classList.toggle("light-theme");
                const isLight = document.body.classList.contains("light-theme");

                icon.classList.toggle("fa-moon", !isLight);
                icon.classList.toggle("fa-sun", isLight);

                localStorage.setItem("theme", isLight ? "light" : "dark");
            });
        });
    </script>
</body>
</html>
